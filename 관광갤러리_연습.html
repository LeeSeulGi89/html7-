<!-- 
    ==========================================
    í•œêµ­ ê´€ê´‘ ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ ì´ˆë³´ììš© í™ˆí˜ì´ì§€
    ==========================================
    ê¸°ëŠ¥: 
    - ê³µê³µë°ì´í„° APIë¥¼ í†µí•´ í•œêµ­ ê´€ê´‘ ì‚¬ì§„ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    - ì‚¬ì§„ ê°¤ëŸ¬ë¦¬ í˜•íƒœë¡œ ë³´ê¸° ì¢‹ê²Œ í‘œì‹œ
    - ìƒì„¸ ì •ë³´ ëª¨ë‹¬ íŒì—…ìœ¼ë¡œ í‘œì‹œ
    ì‚¬ìš© ê¸°ìˆ : HTML, CSS, jQuery, AJAX
    ==========================================
-->
<!DOCTYPE html>
<!-- HTML ë¬¸ì„œ ì‹œì‘ ì„ ì–¸ -->
<html lang="ko">
<!-- lang="ko": í•œêµ­ì–´ í˜ì´ì§€ì„ì„ ì„ ì–¸ -->
<head>
    <!-- ========== ë¬¸ì„œ ì„¤ì • ì˜ì—­ ========== -->
    
    <!-- ë¬¸ì ì¸ì½”ë”©ì„ UTF-8ë¡œ ì„¤ì • (í•œê¸€ í‘œì‹œ) -->
    <meta charset="UTF-8">
    
    <!-- ë°˜ì‘í˜• ì›¹ ì„¤ì • (ëª¨ë°”ì¼ ëŒ€ì‘) -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- ë¸Œë¼ìš°ì € íƒ­ ì œëª© -->
    <title>ğŸŒ í•œêµ­ ê´€ê´‘ ì‚¬ì§„ ê°¤ëŸ¬ë¦¬</title>
    
    <!-- jQuery ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸° (AJAX í†µì‹ ì— í•„ìˆ˜) -->
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    
    <!-- ========== CSS ìŠ¤íƒ€ì¼ ì˜ì—­ ========== -->
    <style>
        /* ===== ì „ì²´ í˜ì´ì§€ ê¸°ë³¸ ì„¤ì • ===== */
        * {
            /* ëª¨ë“  ìš”ì†Œì— ì ìš© */
            margin: 0;              /* ë°”ê¹¥ ì—¬ë°± ì œê±° */
            padding: 0;             /* ì•ˆìª½ ì—¬ë°± ì œê±° */
            box-sizing: border-box; /* í¬ê¸° ê³„ì‚° ë°©ì‹ ë³€ê²½ */
        }

        body {
            /* ì „ì²´ í˜ì´ì§€ ë°°ê²½ê³¼ ê¸€ê¼´ ì„¤ì • */
            font-family: 'ë§‘ì€ ê³ ë”•', Arial, sans-serif;
            /* linear-gradient: ê·¸ë¼ë°ì´ì…˜ ë°°ê²½ (ë³´ë¼ìƒ‰ ê³„ì—´) */
            min-height: 100vh;      /* ìµœì†Œ ë†’ì´ë¥¼ í™”ë©´ ì „ì²´ë¡œ */
            padding: 20px;
        }

        /* ===== í—¤ë” ì˜ì—­ ===== */
        .header {
            background: white;
            padding: 30px;
            border-radius: 15px;    /* ëª¨ì„œë¦¬ ë‘¥ê¸€ê²Œ */
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            /* box-shadow: ê·¸ë¦¼ì íš¨ê³¼ */
            margin-bottom: 30px;
            text-align: center;     /* í…ìŠ¤íŠ¸ ê°€ìš´ë° ì •ë ¬ */
        }

        .header h1 {
            color: #764ba2;
            font-size: 36px;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 16px;
            margin-bottom: 20px;
        }

        /* ===== ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë²„íŠ¼ ===== */
        #takeBtn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;           /* í…Œë‘ë¦¬ ì œê±° */
            padding: 15px 40px;     /* ì•ˆìª½ ì—¬ë°± (ìƒí•˜ 15px, ì¢Œìš° 40px) */
            font-size: 18px;
            font-weight: bold;      /* êµµì€ ê¸€ì”¨ */
            border-radius: 30px;    /* ë‘¥ê·¼ ë²„íŠ¼ */
            cursor: pointer;        /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ì†ê°€ë½ ëª¨ì–‘ */
            transition: all 0.3s;   /* 0.3ì´ˆ ë™ì•ˆ ë¶€ë“œëŸ½ê²Œ ë³€í™” */
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        #takeBtn:hover {
            /* ë§ˆìš°ìŠ¤ë¥¼ ë²„íŠ¼ ìœ„ì— ì˜¬ë ¸ì„ ë•Œ */
            transform: translateY(-3px);    /* ìœ„ë¡œ 3px ì´ë™ */
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.6);
            /* ê·¸ë¦¼ìë¥¼ ë” í¬ê²Œ */
        }

        #takeBtn:active {
            /* ë²„íŠ¼ì„ í´ë¦­í•˜ê³  ìˆì„ ë•Œ */
            transform: translateY(-1px);    /* ì‚´ì§ë§Œ ìœ„ë¡œ */
        }

        /* ===== ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ ===== */
        .loading {
            display: none;          /* ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ */
            text-align: center;
            margin: 20px 0;
        }

        .spinner {
            /* íšŒì „í•˜ëŠ” ë¡œë”© ì•„ì´ì½˜ */
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;     /* ì› ëª¨ì–‘ */
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            /* 1ì´ˆë§ˆë‹¤ ê³„ì† íšŒì „ */
            margin: 0 auto;         /* ê°€ìš´ë° ì •ë ¬ */
        }

        @keyframes spin {
            /* íšŒì „ ì• ë‹ˆë©”ì´ì…˜ ì •ì˜ */
            0% { transform: rotate(0deg); }     /* ì‹œì‘: 0ë„ */
            100% { transform: rotate(360deg); } /* ë: 360ë„ */
        }

        /* ===== ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ ===== */
        .gallery-container {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-top: 20px;
        }

        .gallery-container h2 {
            color: #764ba2;
            margin-bottom: 20px;
            font-size: 24px;
        }

        /* ===== ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ===== */
        .gallery-grid {
            display: grid;          /* ê·¸ë¦¬ë“œ ë ˆì´ì•„ì›ƒ ì‚¬ìš© */
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            /* repeat: ë°˜ë³µ, auto-fill: ìë™ìœ¼ë¡œ ì±„ìš°ê¸° */
            /* minmax(300px, 1fr): ìµœì†Œ 300px, ìµœëŒ€ 1fr(ë¹„ìœ¨) */
            gap: 25px;              /* ì•„ì´í…œ ì‚¬ì´ ê°„ê²© */
            margin-top: 20px;
        }

        /* ===== ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ===== */
        .gallery-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;       /* ë‚´ìš©ì´ ë„˜ì¹˜ë©´ ìˆ¨ê¹€ */
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;   /* ë¶€ë“œëŸ¬ìš´ ë³€í™” íš¨ê³¼ */
            cursor: pointer;        /* í´ë¦­ ê°€ëŠ¥ í‘œì‹œ */
        }

        .gallery-card:hover {
            /* ì¹´ë“œì— ë§ˆìš°ìŠ¤ ì˜¬ë ¸ì„ ë•Œ */
            transform: translateY(-10px);   /* ìœ„ë¡œ 10px ì˜¬ë¼ê° */
            box-shadow: 0 15px 30px rgba(0,0,0,0.2);
            /* ê·¸ë¦¼ìê°€ ë” ì§„í•´ì§ */
        }

        /* ===== ì¹´ë“œ ì´ë¯¸ì§€ ì˜ì—­ ===== */
        .card-image {
            width: 100%;            /* ì¹´ë“œ ë„ˆë¹„ì— ë§ì¶¤ */
            height: 250px;          /* ê³ ì • ë†’ì´ */
            object-fit: cover;      /* ë¹„ìœ¨ ìœ ì§€í•˜ë©° ì˜ì—­ ì±„ì›€ */
            /* ì´ë¯¸ì§€ê°€ ì˜ë¦¬ë”ë¼ë„ ì˜ì—­ì„ ê½‰ ì±„ì›€ */
        }

        /* ===== ì¹´ë“œ ë‚´ìš© ì˜ì—­ ===== */
        .card-content {
            padding: 20px;
        }

        .card-title {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            /* í…ìŠ¤íŠ¸ê°€ ê¸¸ë©´ ë§ì¤„ì„í‘œ ì²˜ë¦¬ */
            overflow: hidden;
            text-overflow: ellipsis;    /* ... í‘œì‹œ */
            white-space: nowrap;        /* í•œ ì¤„ë¡œ */
        }

        .card-info {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }

        .card-info strong {
            color: #764ba2;
            font-weight: bold;
        }

        /* ===== í‚¤ì›Œë“œ íƒœê·¸ ===== */
        .keywords {
            margin-top: 10px;
        }

        .keyword-tag {
            display: inline-block;  /* ê°€ë¡œë¡œ ë‚˜ì—´ */
            background: #e3f2fd;
            color: #1976d2;
            padding: 5px 12px;
            border-radius: 15px;    /* ë‘¥ê·¼ íƒœê·¸ */
            font-size: 12px;
            margin: 3px;
        }

        /* ===== ëª¨ë‹¬ íŒì—… ===== */
        .modal {
            display: none;          /* ì²˜ìŒì—ëŠ” ìˆ¨ê¹€ */
            position: fixed;        /* í™”ë©´ì— ê³ ì • */
            z-index: 1000;          /* ë§¨ ìœ„ì— í‘œì‹œ */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
            /* ë°˜íˆ¬ëª… ê²€ì€ ë°°ê²½ */
            overflow: auto;         /* ë‚´ìš©ì´ ë§ìœ¼ë©´ ìŠ¤í¬ë¡¤ */
        }

        .modal-content {
            background-color: white;
            margin: 5% auto;        /* ìœ„ 5%, ì¢Œìš° ìë™(ê°€ìš´ë°) */
            padding: 0;
            border-radius: 15px;
            width: 90%;
            max-width: 800px;       /* ìµœëŒ€ ë„ˆë¹„ ì œí•œ */
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            animation: slideDown 0.3s;
            /* ì•„ë˜ë¡œ ìŠ¬ë¼ì´ë“œë˜ë©° ë‚˜íƒ€ë‚¨ */
        }

        @keyframes slideDown {
            /* ìŠ¬ë¼ì´ë“œ ì• ë‹ˆë©”ì´ì…˜ */
            from {
                transform: translateY(-50px);   /* ì‹œì‘: ìœ„ì—ì„œ */
                opacity: 0;                     /* íˆ¬ëª… */
            }
            to {
                transform: translateY(0);       /* ë: ì›ìœ„ì¹˜ */
                opacity: 1;                     /* ë¶ˆíˆ¬ëª… */
            }
        }

        /* ===== ë‹«ê¸° ë²„íŠ¼ ===== */
        .close {
            color: white;
            float: right;           /* ì˜¤ë¥¸ìª½ ì •ë ¬ */
            font-size: 35px;
            font-weight: bold;
            padding: 10px 20px;
            cursor: pointer;
        }

        .close:hover {
            color: #667eea;
        }

        .modal-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            /* ìœ„ìª½ë§Œ ë‘¥ê¸€ê²Œ */
        }

        .modal-body {
            padding: 30px;
        }

        .modal-image {
            width: 100%;
            border-radius: 10px;
            margin-bottom: 20px;
        }

        .modal-info {
            margin: 15px 0;
            font-size: 16px;
            line-height: 1.8;       /* ì¤„ ê°„ê²© */
        }

        /* ===== ë°ì´í„° ì—†ìŒ ë©”ì‹œì§€ ===== */
        .no-data {
            text-align: center;
            padding: 50px;
            color: #999;
            font-size: 18px;
        }

        /* ===== í†µê³„ ì •ë³´ ===== */
        .stats {
            background: linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 100%);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-number {
            font-size: 36px;
            font-weight: bold;
            color: #764ba2;
        }

        .stats-label {
            font-size: 14px;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>

<!-- ========== HTML ë³¸ë¬¸ ì‹œì‘ ========== -->
<body>

    <!-- ===== í—¤ë” ì˜ì—­ ===== -->
    <div class="header">
        <h1>ğŸŒ í•œêµ­ ê´€ê´‘ ì‚¬ì§„ ê°¤ëŸ¬ë¦¬</h1>
        <p>í•œêµ­ê´€ê´‘ê³µì‚¬ ê³µê³µë°ì´í„°ë¥¼ í™œìš©í•œ ì•„ë¦„ë‹¤ìš´ ê´€ê´‘ì§€ ì‚¬ì§„ ëª¨ìŒ</p>
        
        <!-- ë°ì´í„° ê°€ì ¸ì˜¤ê¸° ë²„íŠ¼ -->
        <button type="button" id="takeBtn">ğŸ“¸ ì‚¬ì§„ ë¶ˆëŸ¬ì˜¤ê¸°</button>
        
        <!-- ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ (ì²˜ìŒì—” ìˆ¨ê¹€) -->
        <div class="loading" id="loading">
            <div class="spinner"></div>
            <p style="margin-top: 10px; color: #667eea;">ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</p>
        </div>
    </div>

    <!-- ===== ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ ===== -->
    <div class="gallery-container" id="galleryContainer" style="display: none;">
        <!-- ì²˜ìŒì—” ìˆ¨ê¹€, ë°ì´í„° ë°›ìœ¼ë©´ í‘œì‹œ -->
        
        <!-- í†µê³„ ì •ë³´ -->
        <div class="stats">
            <div class="stats-number" id="photoCount">0</div>
            <div class="stats-label">ê°œì˜ ê´€ê´‘ ì‚¬ì§„</div>
        </div>
        
        <h2>ğŸ“· ì‚¬ì§„ ê°¤ëŸ¬ë¦¬</h2>
        
        <!-- ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ (ì—¬ê¸°ì— ì¹´ë“œë“¤ì´ ì¶”ê°€ë¨) -->
        <div class="gallery-grid" id="galleryGrid">
            <!-- AJAXë¡œ ë°›ì€ ë°ì´í„°ê°€ ì—¬ê¸° ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
        </div>
    </div>

    <!-- ===== ëª¨ë‹¬ íŒì—… (ìƒì„¸ ì •ë³´) ===== -->
    <div id="detailModal" class="modal">
        <!-- ëª¨ë‹¬ ë‚´ìš© -->
        <div class="modal-content">
            <div class="modal-header">
                <span class="close" id="closeModal">&times;</span>
                <h2 id="modalTitle">ì‚¬ì§„ ìƒì„¸ ì •ë³´</h2>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- ìƒì„¸ ì •ë³´ê°€ ì—¬ê¸° ë“¤ì–´ê°‘ë‹ˆë‹¤ -->
            </div>
        </div>
    </div>

    <!-- ========== jQuery ìŠ¤í¬ë¦½íŠ¸ ì˜ì—­ ========== -->
    <script>
        // ==========================================
        // jQuery ì‹œì‘ - ë¬¸ì„œ ì¤€ë¹„ ì™„ë£Œ í›„ ì‹¤í–‰
        // ==========================================
        $(function() {
            // $(function() {}): HTMLì´ ëª¨ë‘ ë¡œë“œë˜ë©´ ì‹¤í–‰
            // document.ready()ì˜ ë‹¨ì¶• ë¬¸ë²•
            
            console.log("í˜ì´ì§€ê°€ ë¡œë“œë˜ì—ˆìŠµë‹ˆë‹¤!");
            
            // ==========================================
            // "ì‚¬ì§„ ë¶ˆëŸ¬ì˜¤ê¸°" ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
            // ==========================================
            $("#takeBtn").click(function() {
                // $("#takeBtn"): IDê°€ "takeBtn"ì¸ ë²„íŠ¼ ì„ íƒ
                // .click(function() {}): í´ë¦­ ì‹œ ì‹¤í–‰í•  í•¨ìˆ˜
                
                // ë¡œë”© ì• ë‹ˆë©”ì´ì…˜ í‘œì‹œ
                $("#loading").show();
                // .show(): ìˆ¨ê²¨ì§„ ìš”ì†Œë¥¼ ë³´ì´ê²Œ í•¨
                
                // ë²„íŠ¼ ë¹„í™œì„±í™” (ì¤‘ë³µ í´ë¦­ ë°©ì§€)
                $(this).prop("disabled", true).text("ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...");
                // $(this): í´ë¦­ëœ ë²„íŠ¼ ìì‹ 
                // .prop("disabled", true): ë¹„í™œì„±í™”
                // .text(): ë²„íŠ¼ í…ìŠ¤íŠ¸ ë³€ê²½
                
                // ==========================================
                // AJAX í†µì‹  ì‹œì‘
                // AJAX: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì—†ì´ ì„œë²„ì—ì„œ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                // ==========================================
                $.ajax({
                    // $.ajax({}): jQueryì˜ ë¹„ë™ê¸° í†µì‹  ë©”ì„œë“œ
                    
                    // API ì£¼ì†Œ (í•œêµ­ê´€ê´‘ê³µì‚¬ ê³µê³µë°ì´í„°)
                    url: "https://apis.data.go.kr/B551011/PhotoGalleryService1/galleryList1?serviceKey=918RE13GA7OY7ZEmUzApgbOeAcQoZ%2FaHsXWcqPAKQ9YNNPj83KOstRMRIUrCFIAcm9qj2R6b7NFZjp%2FYsYzJLg%3D%3D&numOfRows=10&pageNo=1&MobileOS=ETC&MobileApp=AppTest&arrange=A&_type=json",
                    // íŒŒë¼ë¯¸í„° ì„¤ëª…:
                    // - serviceKey: API ì¸ì¦í‚¤
                    // - numOfRows=10: 10ê°œì˜ ë°ì´í„° ìš”ì²­
                    // - pageNo=1: 1í˜ì´ì§€
                    // - MobileOS=ETC: ê¸°íƒ€ í™˜ê²½
                    // - MobileApp=AppTest: í…ŒìŠ¤íŠ¸ ì•±
                    // - arrange=A: ì •ë ¬ ë°©ì‹
                    // - _type=json: JSON í˜•ì‹ìœ¼ë¡œ ì‘ë‹µ
                    
                    // HTTP ìš”ì²­ ë°©ì‹
                    type: "get",
                    // get: ë°ì´í„° ì¡°íšŒ (URLì— íŒŒë¼ë¯¸í„° í¬í•¨)
                    // post: ë°ì´í„° ì „ì†¡ (ë³¸ë¬¸ì— íŒŒë¼ë¯¸í„° í¬í•¨)
                    
                    // ì„œë²„ë¡œ ë³´ë‚¼ ì¶”ê°€ ë°ì´í„° (í˜„ì¬ëŠ” URLì— ëª¨ë‘ í¬í•¨)
                    data: {},
                    
                    // ì‘ë‹µ ë°ì´í„° íƒ€ì…
                    dataType: "json",
                    // json: JavaScript ê°ì²´ë¡œ ìë™ ë³€í™˜
                    
                    // ==========================================
                    // ì„±ê³µí–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜ (ì½œë°± í•¨ìˆ˜)
                    // ==========================================
                    success: function(data) {
                        // data: ì„œë²„ì—ì„œ ë°›ì€ JSON ë°ì´í„°
                        
                        console.log("ë°ì´í„° ìˆ˜ì‹  ì„±ê³µ!");
                        console.log(data);
                        
                        // ë¡œë”© ìˆ¨ê¸°ê¸°
                        $("#loading").hide();
                        
                        // ë²„íŠ¼ í™œì„±í™”
                        $("#takeBtn").prop("disabled", false).text("ğŸ“¸ ì‚¬ì§„ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜¤ê¸°");
                        
                        // ë°ì´í„° ë°°ì—´ ì¶”ì¶œ
                        var tour_data = data.response.body.items.item;
                        // data.response.body.items.item: JSON êµ¬ì¡°ì—ì„œ ì‹¤ì œ ë°ì´í„° ë°°ì—´
                        
                        console.log("ë°›ì€ ì‚¬ì§„ ê°œìˆ˜:", tour_data.length);
                        
                        // ì‚¬ì§„ ê°œìˆ˜ í‘œì‹œ
                        $("#photoCount").text(tour_data.length);
                        
                        // ê°¤ëŸ¬ë¦¬ ì»¨í…Œì´ë„ˆ ë³´ì´ê¸°
                        $("#galleryContainer").fadeIn(500);
                        // .fadeIn(500): 0.5ì´ˆ ë™ì•ˆ ì„œì„œíˆ ë‚˜íƒ€ë‚¨
                        
                        // HTML ë¬¸ìì—´ ì´ˆê¸°í™”
                        var dataHtml = ``;
                        
                        // ==========================================
                        // for ë°˜ë³µë¬¸: ë°°ì—´ì˜ ëª¨ë“  ë°ì´í„° ìˆœíšŒ
                        // ==========================================
                        for (var i = 0; i < tour_data.length; i++) {
                            // i = 0ë¶€í„° ì‹œì‘
                            // i < tour_data.length: ë°°ì—´ ê¸¸ì´(10)ë§Œí¼ ë°˜ë³µ
                            // i++: ë§¤ë²ˆ ië¥¼ 1ì”© ì¦ê°€
                            
                            // í˜„ì¬ ì‚¬ì§„ ë°ì´í„°
                            var photo = tour_data[i];
                            // tour_data[i]: ë°°ì—´ì˜ ië²ˆì§¸ ìš”ì†Œ
                            
                            // í‚¤ì›Œë“œë¥¼ ì‰¼í‘œë¡œ ë¶„ë¦¬
                            var keywords = photo.galSearchKeyword ? photo.galSearchKeyword.split(',') : [];
                            // photo.galSearchKeyword: ê²€ìƒ‰ í‚¤ì›Œë“œ (ì˜ˆ: "ë°”ë‹¤,ì¼ì¶œ,í•´ë³€")
                            // .split(','): ì‰¼í‘œë¡œ ë‚˜ëˆ ì„œ ë°°ì—´ë¡œ ë§Œë“¦ ["ë°”ë‹¤", "ì¼ì¶œ", "í•´ë³€"]
                            // ? ... : []: ì‚¼í•­ ì—°ì‚°ì (ê°’ì´ ìˆìœ¼ë©´ ë¶„ë¦¬, ì—†ìœ¼ë©´ ë¹ˆ ë°°ì—´)
                            
                            // í‚¤ì›Œë“œ HTML ìƒì„±
                            var keywordHtml = '';
                            for (var j = 0; j < keywords.length && j < 3; j++) {
                                // ìµœëŒ€ 3ê°œì˜ í‚¤ì›Œë“œë§Œ í‘œì‹œ
                                // j < keywords.length: í‚¤ì›Œë“œ ê°œìˆ˜ë§Œí¼
                                // && j < 3: ê·¸ë¦¬ê³  3ê°œê¹Œì§€ë§Œ
                                keywordHtml += `<span class="keyword-tag">${keywords[j].trim()}</span>`;
                                // .trim(): ì•ë’¤ ê³µë°± ì œê±°
                            }
                            
                            // ì¹´ë“œ HTML ìƒì„± (í…œí”Œë¦¿ ë¦¬í„°ëŸ´ ì‚¬ìš©)
                            dataHtml += `
                                <div class="gallery-card" data-id="${photo.galContentId}">
                                    <!-- data-id: ì‚¬ì§„ IDë¥¼ ì €ì¥ (ë‚˜ì¤‘ì— ìƒì„¸ë³´ê¸°ì— ì‚¬ìš©) -->
                                    
                                    <img src="${photo.galWebImageUrl}" 
                                         alt="${photo.galTitle}" 
                                         class="card-image"
                                         onerror="this.src='https://via.placeholder.com/300x250?text=ì´ë¯¸ì§€+ì—†ìŒ'">
                                    <!-- onerror: ì´ë¯¸ì§€ ë¡œë“œ ì‹¤íŒ¨ì‹œ ëŒ€ì²´ ì´ë¯¸ì§€ í‘œì‹œ -->
                                    
                                    <div class="card-content">
                                        <div class="card-title">${photo.galTitle}</div>
                                        
                                        <div class="card-info">
                                            <strong>ğŸ“… ì´¬ì˜ì¼:</strong> ${photo.galCreatedtime || 'ì •ë³´ ì—†ìŒ'}
                                        </div>
                                        <!-- || 'ì •ë³´ ì—†ìŒ': ê°’ì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ í‘œì‹œ -->
                                        
                                        <div class="card-info">
                                            <strong>ğŸ“ ì´¬ì˜ì§€:</strong> ${photo.galPhotographyLocation || 'ì •ë³´ ì—†ìŒ'}
                                        </div>
                                        
                                        <div class="card-info">
                                            <strong>ğŸ“· ì‘ê°€:</strong> ${photo.galPhotographer || 'ì •ë³´ ì—†ìŒ'}
                                        </div>
                                        
                                        <div class="keywords">
                                            ${keywordHtml}
                                        </div>
                                    </div>
                                </div>
                            `;
                            // ${ë³€ìˆ˜ëª…}: ë³€ìˆ˜ ê°’ì„ ë¬¸ìì—´ì— ì‚½ì…
                            // ë°±í‹±(``)ì„ ì‚¬ìš©í•œ í…œí”Œë¦¿ ë¦¬í„°ëŸ´
                        }
                        // ë°˜ë³µë¬¸ ì¢…ë£Œ - 10ê°œì˜ ì¹´ë“œ HTMLì´ ìƒì„±ë¨
                        
                        // ìƒì„±ëœ HTMLì„ ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œì— ì‚½ì…
                        $("#galleryGrid").html(dataHtml);
                        // .html(dataHtml): ìš”ì†Œì˜ ë‚´ìš©ì„ êµì²´
                        
                        // ==========================================
                        // ì¹´ë“œ í´ë¦­ ì´ë²¤íŠ¸ ë“±ë¡
                        // ==========================================
                        $(".gallery-card").click(function() {
                            // .gallery-card: í´ë˜ìŠ¤ë¡œ ëª¨ë“  ì¹´ë“œ ì„ íƒ
                            // ë™ì ìœ¼ë¡œ ìƒì„±ëœ ìš”ì†Œì—ë„ ì´ë²¤íŠ¸ ì ìš©ë¨
                            
                            // í´ë¦­ëœ ì¹´ë“œì˜ ID ê°€ì ¸ì˜¤ê¸°
                            var cardId = $(this).data("id");
                            // $(this): í´ë¦­ëœ ì¹´ë“œ
                            // .data("id"): data-id ì†ì„± ê°’ ê°€ì ¸ì˜¤ê¸°
                            
                            // í•´ë‹¹ IDì˜ ë°ì´í„° ì°¾ê¸°
                            var photoData = tour_data.find(function(item) {
                                return item.galContentId == cardId;
                            });
                            // .find(): ë°°ì—´ì—ì„œ ì¡°ê±´ì— ë§ëŠ” ì²« ë²ˆì§¸ ìš”ì†Œ ì°¾ê¸°
                            // function(item): ê° ìš”ì†Œë§ˆë‹¤ ì‹¤í–‰
                            // return item.galContentId == cardId: IDê°€ ì¼ì¹˜í•˜ë©´ true
                            
                            // ëª¨ë‹¬ì— ìƒì„¸ ì •ë³´ í‘œì‹œ
                            showModal(photoData);
                        });
                        
                        // ì„±ê³µ ë©”ì‹œì§€
                        alert("âœ… " + tour_data.length + "ê°œì˜ ì‚¬ì§„ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤!");
                        
                    }, // success í•¨ìˆ˜ ë
                    
                    // ==========================================
                    // ì‹¤íŒ¨í–ˆì„ ë•Œ ì‹¤í–‰ë˜ëŠ” í•¨ìˆ˜
                    // ==========================================
                    error: function(xhr, status, error) {
                        // xhr: XMLHttpRequest ê°ì²´
                        // status: ì—ëŸ¬ ìƒíƒœ
                        // error: ì—ëŸ¬ ë©”ì‹œì§€
                        
                        console.error("ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:", error);
                        
                        // ë¡œë”© ìˆ¨ê¸°ê¸°
                        $("#loading").hide();
                        
                        // ë²„íŠ¼ í™œì„±í™”
                        $("#takeBtn").prop("disabled", false).text("ğŸ“¸ ì‚¬ì§„ ë¶ˆëŸ¬ì˜¤ê¸°");
                        
                        // ì—ëŸ¬ ë©”ì‹œì§€
                        alert("âŒ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\në„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.");
                    }
                    
                }); // ajax ë
                
            }); // takeBtn í´ë¦­ ì´ë²¤íŠ¸ ë
            
            // ==========================================
            // ëª¨ë‹¬ ìƒì„¸ ì •ë³´ í‘œì‹œ í•¨ìˆ˜
            // ==========================================
            function showModal(data) {
                // í•¨ìˆ˜ ì •ì˜: function í•¨ìˆ˜ëª…(ë§¤ê°œë³€ìˆ˜) {}
                // data: ì‚¬ì§„ ì •ë³´ ê°ì²´
                
                // í‚¤ì›Œë“œ ë¶„ë¦¬
                var keywords = data.galSearchKeyword ? data.galSearchKeyword.split(',') : [];
                var keywordHtml = '';
                
                // ëª¨ë“  í‚¤ì›Œë“œ íƒœê·¸ ìƒì„±
                for (var i = 0; i < keywords.length; i++) {
                    keywordHtml += `<span class="keyword-tag">${keywords[i].trim()}</span> `;
                }
                
                // ëª¨ë‹¬ ì œëª© ì„¤ì •
                $("#modalTitle").text(data.galTitle);
                
                // ëª¨ë‹¬ ë³¸ë¬¸ HTML ìƒì„±
                var modalContent = `
                    <img src="${data.galWebImageUrl}" 
                         alt="${data.galTitle}" 
                         class="modal-image"
                         onerror="this.src='https://via.placeholder.com/800x600?text=ì´ë¯¸ì§€+ì—†ìŒ'">
                    
                    <div class="modal-info">
                        <strong>ğŸ“‹ ì½˜í…ì¸  ID:</strong> ${data.galContentId}
                    </div>
                    
                    <div class="modal-info">
                        <strong>ğŸ“… ì´¬ì˜ì¼:</strong> ${data.galCreatedtime || 'ì •ë³´ ì—†ìŒ'}
                    </div>
                    
                    <div class="modal-info">
                        <strong>ğŸ“ ì´¬ì˜ ì¥ì†Œ:</strong> ${data.galPhotographyLocation || 'ì •ë³´ ì—†ìŒ'}
                    </div>
                    
                    <div class="modal-info">
                        <strong>ğŸ“· ì‚¬ì§„ ì‘ê°€:</strong> ${data.galPhotographer || 'ì •ë³´ ì—†ìŒ'}
                    </div>
                    
                    <div class="modal-info">
                        <strong>ğŸ·ï¸ ê²€ìƒ‰ í‚¤ì›Œë“œ:</strong><br>
                        ${keywordHtml || 'í‚¤ì›Œë“œ ì—†ìŒ'}
                    </div>
                `;
                
                // ëª¨ë‹¬ ë³¸ë¬¸ì— ì‚½ì…
                $("#modalBody").html(modalContent);
                
                // ëª¨ë‹¬ í‘œì‹œ
                $("#detailModal").fadeIn(300);
                // .fadeIn(300): 0.3ì´ˆ ë™ì•ˆ ì„œì„œíˆ ë‚˜íƒ€ë‚¨
            }
            
            // ==========================================
            // ëª¨ë‹¬ ë‹«ê¸° ì´ë²¤íŠ¸
            // ==========================================
            
            // X ë²„íŠ¼ í´ë¦­
            $("#closeModal").click(function() {
                $("#detailModal").fadeOut(300);
                // .fadeOut(300): 0.3ì´ˆ ë™ì•ˆ ì„œì„œíˆ ì‚¬ë¼ì§
            });
            
            // ëª¨ë‹¬ ë°°ê²½ í´ë¦­ (ëª¨ë‹¬ ì™¸ë¶€ í´ë¦­)
            $("#detailModal").click(function(e) {
                // e: ì´ë²¤íŠ¸ ê°ì²´
                // e.target: ì‹¤ì œ í´ë¦­ëœ ìš”ì†Œ
                
                if (e.target == this) {
                    // this: #detailModal (ëª¨ë‹¬ ìì²´)
                    // ëª¨ë‹¬ ë°°ê²½ì„ í´ë¦­í–ˆì„ ë•Œë§Œ ë‹«ê¸°
                    $(this).fadeOut(300);
                }
            });
            
            // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
            $(document).keydown(function(e) {
                // .keydown(): í‚¤ë³´ë“œë¥¼ ëˆŒë €ì„ ë•Œ
                
                if (e.key === "Escape") {
                    // e.key: ëˆŒë¦° í‚¤
                    // "Escape": ESC í‚¤
                    $("#detailModal").fadeOut(300);
                }
            });
            
            console.log("ëª¨ë“  ì´ë²¤íŠ¸ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!");
            
        }); // jQuery ready ë

    </script>

</body>
</html>